{# src/Arii/JOCBundle/Resources/views/index.html.twig #}

{% extends "AriiJOCBundle::layout.html.twig" %}
{% block content %}
<!--[if !IE]>start section<![endif]-->	
<div class="section table_section">
	<!--[if !IE]>start title wrapper<![endif]-->
	<div class="title_wrapper">
		<h2>{{ "Orders" | trans }}</h2>
		
		<!--[if !IE]>start section menu<![endif]-->
                {{ render(controller("AriiJOCBundle:Default:submenu")) }}
		<!--[if !IE]>end section menu<![endif]-->
		
		
		<span class="title_wrapper_left"></span>
		<span class="title_wrapper_right"></span>
	</div>
	<!--[if !IE]>end title wrapper<![endif]-->
<!--[if !IE]>start section content<![endif]-->
	<div class="section_content">
		<!--[if !IE]>start section content top<![endif]-->
		<div class="sct">
			<div class="sct_left">
				<div class="sct_right">
					<div class="sct_left">
						<div class="sct_right">

<table width="100%">
<tr>
<td colspan="3"><div id="mygrid" style="height:440px;background-color:white;overflow:hidden"></div></td>
</tr>
<tr>
<td></td>
<td align="middle"><div id="pagingArea" class="pagingArea"></div></td>
<td align="right"><div id="recinfoArea" class="recinfoArea"></div></td>
</tr>
</table>
<img src="/focus/images/go.png"/>
<script language="javascript">
var mygrid;
mygrid = new dhtmlXGridObject( "mygrid" );
mygrid.setImagePath( "include/js/dhtmlx/dhtmlxGrid/codebase/imgs/" );
mygrid.setHeader(     "Spooler,Order,Title,Job Chain,Step,State,Order time,Finished,Error,Job name,Start time,End time,Status,Exit,Actions" );
mygrid.setColumnIds(  "spooler_id,order_id,title,job_chain,step,state,start_time,end_time,error,job_name,job_start_time,job_end_time,status,exit_code,action" );
mygrid.setInitWidths( "*,*,*,*,50,*,120,120,0,*,120,120,*,40,0" );
mygrid.setColTypes(   "ro,ro,ro,ro,ro,ro,ro,ro,ro,ro,ro,ro,ro,ro,ro,ro" );
mygrid.setColAlign(   "left,left,left,left,right,left,right,right,right,left,right,right,right,right" );
mygrid.setColSorting( "str,str,str,str,int,str,date,date,str,date,date,str,int,na" );
mygrid.setPagingTemplates( "[prevpages:&lt;&lt;:] [currentpages:,] [nextpages:&gt;&gt;:]" , "<b>[from]-[to]</b> / <b>[total]</b>" );
mygrid.enablePaging( true,20,10,"pagingArea",true,"recinfoArea" );
mygrid.init();
mygrid.setSkin( "light" ); 
mygrid.load( "{{ url('db_orders') }}" );
mygrid.enableLightMouseNavigation( true );
</script>
<script type="text/javascript">
setInterval( "FocusRefresh()",30000);
<!--
function FocusRefresh() {
var currentTime = new Date()
var hours = currentTime.getHours()
var minutes = currentTime.getMinutes()
var seconds = currentTime.getSeconds()
if (minutes < 10){
minutes = "0" + minutes
}
if (seconds < 10){
seconds = "0" + seconds
}
document.getElementById( 'clock' ).innerHTML =  hours + ":" + minutes + ":" +  seconds
//mygrid.clearAll();
mygrid.clearAndLoad( "{{ url('db_orders') }}" )
}
//-->
</script>						</div>
					</div>
				</div>
			</div>
		</div>
		<!--[if !IE]>end section content top<![endif]-->
		<!--[if !IE]>start section content bottom<![endif]-->
		<span class="scb"><span class="scb_left"></span><span class="scb_right"></span></span>
		<!--[if !IE]>end section content bottom<![endif]-->
		
	</div>
	<!--[if !IE]>end section content<![endif]-->
</div>
<!--[if !IE]>end section<![endif]-->
{% endblock %}
